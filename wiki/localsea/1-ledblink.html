

<!DOCTYPE html>
<html class="writer-html5" lang="en">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>T01 - Led Blink &mdash; Tutorials in LocalSEA 2025 documentation</title>
      <link rel="stylesheet" type="text/css" href="static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="static/css/theme.css?v=e59714d7" />

  
    <link rel="canonical" href="./1-ledblink.html" />
      <script src="static/jquery.js?v=5d32c60e"></script>
      <script src="static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script data-url_root="./" id="documentation_options" src="static/documentation_options.js?v=b357adf7"></script>
      <script src="static/doctools.js?v=888ff710"></script>
      <script src="static/sphinx_highlight.js?v=4825356b"></script>
    <script src="static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="T02 - T3WP Moving" href="2-t3wpmove.html" />
    <link rel="prev" title="Home" href="0-home.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            Tutorials in LocalSEA
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="0-home.html">Home</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">T01 - Led Blink</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#requirements">Requirements</a></li>
<li class="toctree-l2"><a class="reference internal" href="#deployment-instructions">Deployment Instructions</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#led-setup">Led setup</a></li>
<li class="toctree-l3"><a class="reference internal" href="#led-aas-dt-setup">Led AAS DT setup</a></li>
<li class="toctree-l3"><a class="reference internal" href="#verification">Verification</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="2-t3wpmove.html">T02 - T3WP Moving</a></li>
<li class="toctree-l1"><a class="reference internal" href="3-ur3econtrol.html">T03 - UR3e Controlling</a></li>
<li class="toctree-l1"><a class="reference internal" href="4-mprotocols.html">T04 - Multiple Protocols</a></li>
<li class="toctree-l1"><a class="reference internal" href="5-uml2aasx.html">T05 - AAS UML to JSON Conversion</a></li>
<li class="toctree-l1"><a class="reference internal" href="6-aas2ua.html">T06 - AAS to OPC UA IM Conversion</a></li>
<li class="toctree-l1"><a class="reference internal" href="7-edc.html">T07 - EDC Connector</a></li>
<li class="toctree-l1"><a class="reference internal" href="8-gui.html">T08 - GUI with Chatbot</a></li>
<li class="toctree-l1"><a class="reference internal" href="9-security.html">T09 - Security</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Tutorials in LocalSEA</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">T01 - Led Blink</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="t01-led-blink">
<h1>T01 - Led Blink<a class="headerlink" href="#t01-led-blink" title="Permalink to this heading"></a></h1>
<p>Led blink is a simple use case to create an AAS Digital Twin (DT) of a Led,
then to monitor its state.
In detail, a led integrated with a Raspberry Pi (RPi) has two states
ON and OFF. When a user click on a button on the RPi, the led switch its
current state (from ON to OFF or from OFF to ON).
The information can be monitored from the distance due to using an AAS DT
of the led.</p>
<section id="requirements">
<h2>Requirements<a class="headerlink" href="#requirements" title="Permalink to this heading"></a></h2>
<p>The following components are required:</p>
<ul class="simple">
<li><p>Network 192.168.56.0/24</p></li>
<li><p>Raspberry Pi 2/3/4/5 with pre-installed Docker</p></li>
<li><p>Led, button, and breadboard.</p></li>
<li><p>Computer with pre-installed <a class="reference external" href="https://eclipse.dev/papyrus/components/manufacturing/downloadaas.html">Papyrus4Manufacturing</a></p></li>
<li><p><a class="reference external" href="https://github.com/pkgi40/p4m-tutorials/releases/download/localsea_t01_ledblink_v0.1/LocalSEA_T01_LedBlink.zip">LocalSEA T01 Kit</a>
including some ready-to-run software components</p></li>
</ul>
<p>The following knowledge are required:</p>
<ul class="simple">
<li><p>Basic about Networking</p></li>
<li><p>Basic about Java + Eclipse IDE</p></li>
<li><p>Basic about Docker</p></li>
</ul>
</section>
<section id="deployment-instructions">
<h2>Deployment Instructions<a class="headerlink" href="#deployment-instructions" title="Permalink to this heading"></a></h2>
<p>In this example, the computer has the IP address <em>192.168.56.11</em>
and the RPi has the IP address <em>192.168.56.18</em>. After downloading the T01 Kit,
decompress it to get the two packages: (1) <strong>led_arm_v0.1.tar.gz</strong>
contains the Docker image for the RPi,
and (2) <strong>T01-LedBlink.tar.gz</strong> contains the AAS model design for the computer.</p>
<section id="led-setup">
<h3>Led setup<a class="headerlink" href="#led-setup" title="Permalink to this heading"></a></h3>
<p>Figure 1 illustrates the schematic view of connecting RPi, led, button,
and breadboard. In this fiture, <strong>L</strong> means led, <strong>B</strong> means button,
<strong>R</strong> means register.</p>
<div style="text-align: center;">       
  <figure style="display: inline-block; margin: 0;">                       
    <img src="static/t01_rpi2.jpg" 
        style="width: 100%; display: block; margin: 0 auto;"/>
    <figcaption style="text-align: center; margin-top: 0.5em;">                                    
      Figure 1. Schematic view of led, button, and RPi
    </figcaption> 
  </figure>                                                                     
</div> 
</br> 
<p>On the RPi, install and run the Docker image with the following commands:</p>
<blockquote>
<div><p><code class="docutils literal notranslate"><span class="pre">$</span> <span class="pre">docker</span> <span class="pre">load</span> <span class="pre">-i</span> <span class="pre">led_arm_v0.1.tar.gz</span></code><br />
<code class="docutils literal notranslate"><span class="pre">$</span> <span class="pre">docker</span> <span class="pre">run</span> <span class="pre">-it</span> <span class="pre">--net=host</span> <span class="pre">--privileged</span> <span class="pre">--rm</span> <span class="pre">led_arm:v0.1</span></code></p>
</div></blockquote>
<p>The expected result is shown in Figure 2. A server runs a simple program
to control the led, and it is exposed at
the endpoint <code class="docutils literal notranslate"><span class="pre">http://192.168.56.18:8080</span></code>.</p>
<div style="text-align: center;">       
  <figure style="display: inline-block; margin: 0;">                       
    <img src="static/t01_ledapp.jpg" 
        style="width: 100%; display: block; margin: 0 auto;"/>
    <figcaption style="text-align: center; margin-top: 0.5em;">                                    
      Figure 2. Result when running the Docker image for led correctly
    </figcaption> 
  </figure>                                                                     
</div> 
</br>
<p>To test if the led work, users can click the button,
and verify the led’s state using the following command.</p>
<blockquote>
<div><p><code class="docutils literal notranslate"><span class="pre">$</span> <span class="pre">curl</span> <span class="pre">http://192.168.56.18:8080/state</span></code></p>
</div></blockquote>
<p>When the led is on, the result of the above command is <strong>True</strong>. When the led
is off, the result of the above command is <strong>False</strong>.</p>
</section>
<section id="led-aas-dt-setup">
<h3>Led AAS DT setup<a class="headerlink" href="#led-aas-dt-setup" title="Permalink to this heading"></a></h3>
<p>On the computer, extract <strong>T01-LedBlink.tar.gz</strong> with the following command:</p>
<blockquote>
<div><p><code class="docutils literal notranslate"><span class="pre">$</span> <span class="pre">tar</span> <span class="pre">-xzvf</span> <span class="pre">T01-LedBlink.tar.gz</span></code></p>
</div></blockquote>
<p>Open Papyrus4Manufacturing and import the project as in Figure 3.
The AAS Design Diagram shows the basic elements of the project.
Note that users can see property <strong>state</strong> inside submodel <strong>Basic</strong>.</p>
<div style="text-align: center;">       
  <figure style="display: inline-block; margin: 0;">                       
    <img src="static/t01_add.jpg" 
        style="width: 100%; display: block; margin: 0 auto;"/>
    <figcaption style="text-align: center; margin-top: 0.5em;">                                    
      Figure 3. Project T01-LedBlink shown on Papyrus4Manufacturing
    </figcaption> 
  </figure>                                                                     
</div> 
</br>
<p>In Model Explorer, right click on the <em>AssetAministrationShell</em> <em>Led</em>,
choose <em>AAS</em>, then click
<em>Generate Asset Administration Shell Basyx code (AAS)</em>.
When a new project <em>AAS_Led</em> is generated, users open the file
<em>DynamicElementsWorkspace.java</em> inside the package <em>basic</em> and modify<br />
function <em>get_Basic_state( )</em> as follows.</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kd">public</span><span class="w"> </span><span class="n">Boolean</span><span class="w"> </span><span class="nf">get_Basic_state</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w">	</span>
<span class="w">  </span><span class="c1">// Work with your Dynamic Property here. </span>
<span class="w">  </span><span class="n">Boolean</span><span class="w"> </span><span class="n">defaultVar</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Boolean</span><span class="p">.</span><span class="na">valueOf</span><span class="p">(</span><span class="n">connectedDevices</span><span class="p">.</span><span class="na">ep_http</span><span class="p">.</span><span class="na">readValue</span><span class="p">(</span><span class="s">&quot;/state&quot;</span><span class="p">));</span>
<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="n">defaultVar</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>To run the AAS server including the Led AAS DT in Project Explorer,
right click on <em>AASServer.launch</em>, choose <em>Run As</em>, then click <em>AASServer</em>.
To test if the server work propertly, users can run the following command
to get the AAS information model brief structure as output.</p>
<blockquote>
<div><p><code class="docutils literal notranslate"><span class="pre">$</span> <span class="pre">curl</span> <span class="pre">http://127.0.0.1:1067/aas</span></code></p>
</div></blockquote>
</section>
<section id="verification">
<h3>Verification<a class="headerlink" href="#verification" title="Permalink to this heading"></a></h3>
<p>If all the above setups are correct, then the led AAS DT is connecting to
the physical led. The aim is to get the state of the led through the AAS API.
The following command is to get the state every one second.</p>
<blockquote>
<div><p><code class="docutils literal notranslate"><span class="pre">$</span> <span class="pre">while</span> <span class="pre">true;</span></code><br />
<code class="docutils literal notranslate"><span class="pre">$</span> <span class="pre">do</span> <span class="pre">curl</span> <span class="pre">http://127.0.0.1:1067/aas/submodels/Basic/submodel/submodelElements/state/value;</span></code><br />
<code class="docutils literal notranslate"><span class="pre">$</span> <span class="pre">echo</span> <span class="pre">'';</span></code><br />
<code class="docutils literal notranslate"><span class="pre">$</span> <span class="pre">sleep</span> <span class="pre">1;</span></code><br />
<code class="docutils literal notranslate"><span class="pre">$</span> <span class="pre">done</span></code></p>
</div></blockquote>
<p>Users click the button and check if the output showing on the prompt
(True or False) corresponds to the led’state (ON or OFF).</p>
</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="0-home.html" class="btn btn-neutral float-left" title="Home" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="2-t3wpmove.html" class="btn btn-neutral float-right" title="T02 - T3WP Moving" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2025 Commisariat à l&#39;Energie Atomique - Energies Alternatives — CEA LIST.</p>
  </div>

   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>